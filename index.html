<html>
<head>
        <meta charset="UTF-8">
</head>
<body onresize="EleScale()" onload="EleScale()" id="BODY" style="margin: 0px;padding: 0px;">
    <script src="./bundles/eos.min.js"></script>
    <script src="./bundles/scatterjs-core.min.js"></script>
    <script src="./bundles/scatterjs-plugin-eosjs.min.js"></script>

<script>
    var g_Selected_PlanetID;
    var g_Teleport_PlanetID;
    function EleScale() {
        var ele = document.getElementById("MAINCONTAINER");
        var a = ele.clientWidth;
        var b = window.innerWidth;
        a = parseFloat(a);
        b = parseFloat(b);
        var rate = b / a;
        ele.style.WebkitTransform = "scale(" + rate + "," + rate + ")";

        ele = document.getElementById("ADAPTIVESIZE");
        ele.style.width=window.innerWidth;
        ele.style.height=window.innerWidth*16/9.0;

        ele = document.getElementById("BODY");
        ele.style.width=window.innerWidth;
        ele.style.height=window.innerWidth*16/9.0;
        

    }

    function HideUnityFrame()
    {
        ele =document.getElementById("UNITYUNIVERSALMAP");
        ele.style.visibility='hidden';
    }
    function ShowUnityFrame()
    {
        ele =document.getElementById("UNITYUNIVERSALMAP");
        ele.style.visibility='visible';
    }
    function SwitchToPlanetInfo(planetid)
    {
        PushBanner("在此页面查看星球信息");
        HideUnityFrame();
        ele = document.getElementById("MAINFRAME");
        ele.src="planet_detail_info.html";
        g_Selected_PlanetID=planetid;

       // window.setTimeout(
       //  function()
       // {
       // ele.contentWindow. SetPlanetID(planetid);
//
       // }
       // ,3000
       // 
       // )
    }
    function SwitchToPlanetList()
    {
        XY2ID("123:32");
        PushBanner("在此页面查看拥有的星球");
        HideUnityFrame();
        ele = document.getElementById("MAINFRAME");
        ele.src="my_planets.html";
    }
    function SwitchToSell()
    {
        PushBanner("出售星球");
        HideUnityFrame();
        ele = document.getElementById("MAINFRAME");
        ele.src="sell_planet.html";
    }
    function SwitchToBuyPlanet()
    {
        PushBanner("查看星球交易");
        HideUnityFrame();
        ele = document.getElementById("MAINFRAME");
        ele.src="buy_planet.html";
    }
    function SwitchToBuyPlanetInfo(planetid)
    {
        PushBanner("查看此笔交易详细信息");
        HideUnityFrame();
        g_Selected_PlanetID=planetid;
        ele = document.getElementById("MAINFRAME");
        ele.src="buy_planet_detail_info.html";
        
    }
    function SwitchToUniversialMap()
    {
        PushBanner("进入大地图");
        ele = document.getElementById("MAINFRAME");
        //ele.src="universal_map.html";
        ele.src="universal_map.html";
        ele =document.getElementById("UNITYUNIVERSALMAP");
        ele.style.visibility='visible';
        ele =document.getElementById("UNITYFRAME");
        
   
    }
    function SwitchToFight()
    {
        PushBanner("正在准备攻打星球:"+ID2XY(GLOBAL_DATA.attacking_planet));
        HideUnityFrame();
        ele = document.getElementById("MAINFRAME");
        ele.src="fighting_gold.html";
    }
    function SwitchToNotice()
    {
        PushBanner("消息");
        HideUnityFrame();
        ele = document.getElementById("MAINFRAME");
        ele.src="my_notice.html";
    }

    function SetUnityCameraPos(x,y)
    {
        ele =document.getElementById("UNITYFRAME");
        ele.contentWindow.SetCameraPos(x,y);
        var plid=XY2ID(x+":"+y);
        GLOBAL_DATA.attacking_planet=plid;
        GLOBAL_DATA.selected_planet=plid;
    }
</script>
<script type="text/javascript" src="js/update_main_info.js"></script>
<script type="text/javascript" src="js/scatter_connecter.js"></script>
<script type="text/javascript" src="js/scatter_actions.js"></script>
<script type="text/javascript" src="js/query_my_planet_list.js"></script>
<script type="text/javascript" src="js/query_trading_planet.js"></script>
<script type="text/javascript" src="js/query_planet.js"></script>
<script type="text/javascript" src="js/query_notice_list.js"></script>




<div id="ADAPTIVESIZE" style="overflow: hidden">

<div id="MAINCONTAINER" style="overflow: hidden;display: block;top: 0px;left: 0px;transform-origin: 0% 0%;;-webkit-transform-origin-x:0%;-webkit-transform-origin-y:0%;width: 1440px;height: 2560px;">
    <div style="background-image: url(img/stardust_background1.png);background-size: cover; width: 1440px;height: 2560px;position: relative;">
        
        <div id="USERINFOTEXT01" style="top:60px;left:80px;     width: 300px;height: 50px;  text-align: center;  position: absolute;display: block;font-size: 48px;color: aqua;"></div>
        <div id="USERINFOTEXT02" style="top:30px;left:560px;    width: 300px;height: 50px;  text-align: center;  position: absolute;display: block;font-size: 48px;color: aqua;">username</div>
        <div id="USERINFOTEXT03" style="top:60px;left:1000px;   width: 300px;height: 50px;  text-align: center;  position: absolute;display: block;font-size: 48px;color: aqua;"></div>
        <div id="USERINFOTEXT04" style="top:210px;left:80px;    width: 300px;height: 50px;  text-align: center;  position: absolute;display: block;font-size: 48px;color: aqua;"></div>
        <div id="USERINFOTEXT05" style="top:210px;left:400px;    width: 300px;height: 50px;  text-align: center;  position: absolute;display: block;font-size: 48px;color: aqua;"></div>
        
        <div style="overflow: hidden;border-width: 0px;position: absolute;top:450px;left:80px;width: 1200px;height: 1800px;" >

                <iframe id="MAINFRAME" src="my_planets.html" style="border-width: 0px;position: relative;top:0px;left:0px;width: 1300px;height: 1800px;" ></iframe>
        </div>
        <div id="UNITYUNIVERSALMAP" style="visibility:hidden;overflow: hidden;border-width: 0px;position: absolute;top:440px;left:0px;width: 1440px;height: 1800px;margin: 0px 0px" >

                <iframe id="UNITYFRAME" src="unity/index.html" style="border-width: 0px;position: relative;top:0px;width: 1440;height: 1800;margin: 0px 0px;" ></iframe>
        </div>
      
        
        <div onclick="SwitchToPlanetList()" style="top:2300px;left:300px; background-image: url(img/a5.png); background-size: cover; width: 220px;height: 220px;   position: absolute;display: block;"></div>    
        <div onclick="SwitchToBuyPlanet()" style="top:2300px;left:520px; background-image: url(img/a8.png); background-size: cover; width: 220px;height: 220px;   position: absolute;display: block;"></div>    
        <div onclick="SwitchToUniversialMap()" style="top:2300px;left:740px; background-image: url(img/a20.png); background-size: cover; width: 220px;height: 220px;   position: absolute;display: block;"></div>    
        <div onclick="SwitchToFight()" style="top:2300px;left:960px; background-image: url(img/a2.png); background-size: cover; width: 220px;height: 220px;   position: absolute;display: block;"></div>    
        <div onclick="SwitchToNotice()" style="top:2300px;left:1180px; background-image: url(img/a11.png); background-size: cover; width: 220px;height: 220px;   position: absolute;display: block;"></div>    

        <div style="top:2270px;left:25px; background-image: url(img/stardust_usergraph.png); background-size: cover; width: 200px;height: 200px;   position: absolute;display: block;"></div>    


    </div>

    <div id="NOTICEBANNER" style="background-image: url(img/stardust_notice_bg.png); background-size: 100% 100%; position: fixed;width: 1400px;height:300px;top:100px;left:0px;">
        <div style="width: 1400px;height:300px;top:100px;position: absolute;">
            <div id="NOTICETEXT" style="position: relative;margin: auto;font-size: 48px;color:white;text-align: center;">
                    欢迎来到EOS星战
            </div>
            
        </div>
        <div id="MESSAGEICON" style="background: url(img/message.png);background-size:contain; background-repeat:no-repeat;width: 150;height: 150;top:70px;left:100px;position: absolute;">

        </div>

    </div>
    <script type="text/javascript" src="js/notice_banner.js"></script>
</div>



</div>


</body>
</html>