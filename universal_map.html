<head>
    <meta charset="UTF-8">
</head>
<body>
    <link href="css/planet_info.css" rel="stylesheet">


    <script>
        var PlanetID;
        function show_unity()
        {
            parent.ShowUnityFrame()
        }
        function buy_planet()
        {
            GetPlanetID();
            planet= parent.GLOBAL_DATA.selected_planet;
            parent.action_transfer("eosio.token", parent.GLOBAL_DATA.username ,"gigaofcolony","1.0000 EOS","STARDUSTBNP$"+planet);
        }   
        function GetPlanetID()
        {
            PlanetID=parent.g_Selected_PlanetID;
        }
    </script>
    <div style="background:
        url(img/stardust_星球信息.png);width:760px;height:230px;margin:20px auto"></div>
    <div style="background:
            url(img/stardust_background2.png);background-size:contain;
            background-repeat:no-repeat;margin: auto;width: 1100px;height:
            1000px;top:40px;position: relative;">
             <div class="TextBlock PlainText" style="font-size:64;top:180px;left:180px;">ID:</div>
             <div id="LABELCOORD01" class="TextBlock PlainText" style="font-size:64;top:180px;left:540px;">xxx</div>
        <div id="LABEL01" class="TextBlock PlainText" style="font-size:64;top:340px;left:180px;">设置坐标 X,Y:</div>
        <div style="top:440px;left:140px;position: absolute;">
            <input id="INPUTPLANETIDX" onkeydown="SetSelectedPlanetID()" onchange="SetSelectedPlanetID()" type="number" value="0" class="TextBlock PlainText" maxlength="10"
                style="background:url(img/stardust_inputbox.png);background-size:
                    cover;width:400px;height:110px;border-width:0px;text-indent:20px;text-shadow: 0px 0px 20px rgb(0, 204, 255)" />
        </div>
        <div style="top:440px;left:560px;position: absolute;">
            <input id="INPUTPLANETIDY" onkeydown="SetSelectedPlanetID()" onchange="SetSelectedPlanetID()" type="number" value="0" class="TextBlock PlainText" maxlength="10"
                style="background:url(img/stardust_inputbox.png);background-size:
                    cover;width:400px;height:110px;border-width:0px;text-indent:20px;text-shadow: 0px 0px 20px rgb(0, 204, 255)" />
        </div>
        <div class="TextBlock PlainText" style="font-size:64px;top:250px;left:180px;">拥有者:</div>
        <div id="LABELOWNER01" class="TextBlock PlainText" style="font-size:64;top:260px;left:540px;">xxx</div>
    
        <div onclick="buy_planet()" style="background:url(img/buy_planet.png);background-size: 100% 100%; width:160px;height:160px;top:580px;left:480px;position: absolute;">
        </div>
        <div class="TextBlock PlainText" style="font-size:64px;top:760px;left:380px;position: absolute;">买下无人星球</div>
    </div>



    <div id="SHOWUNITYBUTTON" onclick="show_unity()" style="background:
        url(img/explore_planet_dynamic.png);background-size:contain;
        background-repeat:no-repeat;width: 300;height:
        300;top:0px;left:0px;position: absolute;">

    </div>
    <div class="TextBlock PlainText" style="font-size:64px;top:260px;left:20px;">进入星系</div>
    <script>

       function SetSelectedPlanetID()
       {
            var elex=document.getElementById("INPUTPLANETIDX");
            var eley=document.getElementById("INPUTPLANETIDY");
            elex=parseInt(elex.value);
            eley=parseInt(eley.value);
            if(isNaN(elex))elex=0;
            if(isNaN(eley))eley=0;
            parent.SetUnityCameraPos(elex,eley);
            
       }
        function UpdateGlobalData() {

            var ele = document.getElementById("LABELOWNER01");
            var elec = document.getElementById("LABELCOORD01");
            elec.innerText=parent.GLOBAL_DATA.selected_planet;
            if (parent.GLOBAL_DATA.selected_planet_info != null) {
                if (parent.GLOBAL_DATA.selected_planet_info.rows.length > 0) {
                    ele.innerText = parent.GLOBAL_DATA.selected_planet_info.rows[0].owner;
                    
                } else {
                    ele.innerText = "NO MAN";
                    
                }

            } else {
                ele.innerText = "NO MAN";
            }
            window.setTimeout(function () {

                UpdateGlobalData();
            }, 100*3 );
        }
       UpdateGlobalData();


       var buttonscaletimer=0.0;
       function UpdateAnime() {

            var ele = document.getElementById("SHOWUNITYBUTTON");
            buttonscaletimer+=0.01;
            if(buttonscaletimer>1)
            {
                buttonscaletimer=0;
            }
            var tempscale=Math.abs(buttonscaletimer-0.5)+0.5;

            ele.style.WebkitTransform = "scale(" + tempscale + ","+ tempscale+ ")";

            window.setTimeout(function () {

                UpdateAnime();
            }, 10);
        }
        UpdateAnime();
    </script>
</body>